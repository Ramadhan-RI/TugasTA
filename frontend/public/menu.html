<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Integritas & Kemiripan Dokumen</title>
    <link rel="stylesheet" href="../css/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/7.0.0/diff.min.js"
      integrity="sha512-immo//J6lKoR+nRIFDPxoxfL2nd/0N3w8l4LwH4HSSVovtUjab5kbh4AhixLH5z9mIv37llY9Q2i8AfEDXyYjw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <style></style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-white fixed-top navbar-custom">
      <div
        class="container position-relative d-flex justify-content-between align-items-center"
      >
        <div class="d-flex gap-3">
          <a class="nav-link text-dark" href="menu.html">Menu</a>
          <a class="nav-link text-dark" href="tentang.html">Tentang</a>
        </div>
      </div>
    </nav>
    <div style="padding-top: 70px">
      <div class="container">
        <div class="title" style="text-align: center" font-size="30px">
          <h3>SISTEM INFORMASI INTEGRITAS KEASLIAN DATA DOKUMEN</h3>
        </div>
        <br />
        <section id="upload-section">
          <h2>Upload Dokumen Asli</h2>
          <hr />
          <form id="upload-form">
            <input
              class="form-control"
              type="file"
              id="original-file-input"
              name="document"
              required
            />
            <button type="submit">Submit</button>
          </form>
          <p id="upload-status"></p>
        </section>
        <hr />
        <section id="documents-list-section">
          <h2>Verifikasi Dokumen</h2>
          <div class="search-container">
            <input
              type="text"
              id="search-input"
              placeholder="Cari nama file..."
            />
            <button id="search-btn">Cari</button>
            <button id="clear-search-btn">Reset</button>
          </div>
          <button id="refresh-list-btn">Refresh List</button>
          <div id="list-loading" style="display: none">Memuat data...</div>
          <div id="list-error" class="error" style="display: none"></div>
          <table id="documents-table" class="table table-striped table-hover">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nama File</th>
                <th>Tanggal Upload</th>
                <th>Aksi</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
          <div class="pagination-container">
            <button id="prev-btn" disabled>&lt; Sebelumnya</button>
            <span id="page-info">Halaman 1 dari 1</span>
            <button id="next-btn" disabled>Berikutnya &gt;</button>
            <span id="total-docs-info"></span>
          </div>
        </section>
        <hr />

        <section id="action-section" style="display: none">
          <h2 id="action-title">Verifikasi Dokumen</h2>

          <form id="verification-form">
            <h3>Dokumen ID: <span id="verify-doc-id"></span></h3>
            <input type="hidden" id="verify-doc-id-input" name="documentId" />
            <label for="verify-file-input"
              >Upload file yang ingin diverifikasi:</label
            >
            <input
              type="file"
              id="verify-file-input"
              name="fileToVerify"
              required
            />
            <button type="submit">Verifikasi Dokumen</button>
            <div id="verification-result" class="result-box"></div>
            <button
              type="button"
              id="print-pdf-btn"
              style="display: none; margin-top: 10px"
            >
              Cetak Hasil ke PDF
            </button>
          </form>

          <div id="similarity-details-section" style="display: none">
            <h3>Detail Kemiripan Teks</h3>
            <div class="similarity-visual-container">
              <div class="similarity-bar-container">
                <div id="similarity-bar" class="similarity-bar-fill"></div>
              </div>
              <span id="similarity-percentage-text">0%</span>
            </div>
            <p id="similarity-notice">
              Perbandingan berikut adalah berdasarkan ekstraksi teks mentah dari
              dokumen.
            </p>
            <div id="diff-output-container">
              <div class="diff-panel">
                <h4>Dokumen Database</h4>
                <pre id="diff-original-text" class="diff-text-area"></pre>
              </div>
              <div class="diff-panel">
                <h4>Dokumen Diverifikasi</h4>
                <pre id="diff-modified-text" class="diff-text-area"></pre>
              </div>
            </div>
          </div>
          <hr />
          <button id="cancel-action-btn">Batal</button>
        </section>
      </div>
      <div class="footer" style="text-align: center">
        <p>
          &copy; 2025 Universitas Tadulako, Teknik Informatika. All rights
          reserved.
        </p>
      </div>
    </div>

    <script src="../js/app.js"></script>
  </body>
</html>
